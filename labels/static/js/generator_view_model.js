// Generated by CoffeeScript 1.9.1
(function() {
  var GeneratorViewModel, LabelEntryViewModel, _easyData, ref, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.bbfan = (ref = root.bbfan) != null ? ref : {};

  _easyData = new bbfan.EasyRestData();

  LabelEntryViewModel = (function() {
    function LabelEntryViewModel(species, cultivar, rootstock, count) {
      this.species = species;
      this.cultivar = cultivar;
      this.rootstock = rootstock;
      this.count = count;
    }

    return LabelEntryViewModel;

  })();

  GeneratorViewModel = (function() {
    var __labelURL;

    __labelURL = '/labels/order/';

    function GeneratorViewModel() {
      this.orders = ko.observableArray();
      this.selectedOrder = ko.observable();
      this.entries = ko.observableArray();
      this.addOrder = (function(_this) {
        return function(orderID, orderString) {
          return _this.orders.push(new bbfan.IDNameViewModel(orderID, orderString));
        };
      })(this);
      this.selectedOrder.subscribe((function(_this) {
        return function(idArray) {
          var orderID;
          orderID = idArray[0];
          _this.entries.removeAll();
          return _easyData.getSingle(__labelURL + orderID, function(data) {
            return _.each(data['entries'], function(entry) {
              return _this.entries.push(new LabelEntryViewModel(entry.species, entry.cultivar, entry.rootstock, entry.count));
            });
          });
        };
      })(this));
    }

    return GeneratorViewModel;

  })();

  root.bbfan.GeneratorViewModel = GeneratorViewModel;

}).call(this);

//# sourceMappingURL=generator_view_model.js.map
